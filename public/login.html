<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>login</title>
    <script src="/javascripts/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="stylesheets/login.css"> -->
</head>
<body>
    <div class="logo_box">
        <h3>电影推荐系统</h3>
            用户名：<input type="text" value="" id="username", placeholder="用户名">
            密码：<input type="password" value="123" id="password" placeholder="密码">
            <input type="submit" value="登录" id="submit">
    </div>
    <script>
        $(document).ready(function (){
            $('#submit').click(function(){
                $(this).unbind('click')
                var name = $('#username').val()
                var password = $('#password').val()
                $.post('/login', {
                    name,
                    password
                }).promise()
                .then(function(data){
                    if(data.error) {
                        alert('用户名或者密码错误')
                        return
                    }
                    // 重定向
                    window.location = '/main.html'                    
                })
            })
        })
    </script>
</body>
</html>